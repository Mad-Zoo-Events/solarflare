files:
  /etc/nginx/htpasswd:
    mode: "000755"
    owner: root
    group: root
    content: |
      vj:$apr1$zi9IadmY$02lQKzIEHrsyeR1IUNxAq0

container_commands:
  01nginx_add_static_staging:
    command: echo -e "\nlocation /static {\n    auth_basic \"Are you a VJ?\";\n    auth_basic_user_file /etc/nginx/htpasswd;\n}" >> /var/proxy/staging/nginx/conf.d/elasticbeanstalk/00_application.conf
    ignoreErrors: true  
  02nginx_add_static:
    command: echo -e "\nlocation /static {\n    auth_basic \"Are you a VJ?\";\n    auth_basic_user_file /etc/nginx/htpasswd;\n}" >> /etc/nginx/conf.d/elasticbeanstalk/00_application.conf
    ignoreErrors: true
  03restart_nginx:
    command: systemctl restart nginx