<!doctype html>
<html>

{{template "header"}}

<body onload="init()" onkeypress='handleKeypress(event);'>
    <div class="header">
        <iframe name="dummyframe" id="dummyframe" style="display: none;"></iframe>
        <span class="bossbar-header">Boss Bar</span>
        <form id="bossbar-form" method="POST" action="/bossbar/set" target="dummyframe">
            <div class="popup">
                <input id="bossbar-text" type="text" name="bossbar-text" placeholder="Boss Bar Text" autocomplete="off"
                    onfocus='suppressHotkeys=true; toggleFormattingCodePopup();'
                    onblur='suppressHotkeys=false; toggleFormattingCodePopup();'>
                <div class="popup-content bossbar-formatting-group" id="bossbar-formatting-popup" tabindex="0"
                    onmouseover='hoveringOverFormattingPopup=true;' onmouseout='hoveringOverFormattingPopup=false;'
                    onblur='toggleFormattingCodePopup();'>
                    <div class="bossbar-formatting-group">
                        <div>▼</div>
                        <div><b>First: color</b></div>
                        <span>§0</span><span onclick='addFormatting("§0");'
                            style="color:#000000; text-shadow: 1px 1px gray;">Black</span>
                        <span>§1</span><span onclick='addFormatting("§1");' style="color:#0000AA">Dark Blue</span>
                        <span>§2</span><span onclick='addFormatting("§2");' style="color:#00AA00">Dark Green</span>
                        <span>§3</span><span onclick='addFormatting("§3");' style="color:#00AAAA">Dark Aqua</span>
                        <span>§4</span><span onclick='addFormatting("§4");' style="color:#AA0000">Dark Red</span>
                        <span>§5</span><span onclick='addFormatting("§5");' style="color:#AA00AA">Dark Purple</span>
                        <span>§6</span><span onclick='addFormatting("§6");' style="color:#FFAA00">Gold</span>
                        <span>§7</span><span onclick='addFormatting("§7");' style="color:#AAAAAA">Gray</span>
                        <span>§8</span><span onclick='addFormatting("§8");' style="color:#555555">Dark Gray</span>
                        <span>§9</span><span onclick='addFormatting("§9");' style="color:#5555DD">Blue</span>
                        <span>§a</span><span onclick='addFormatting("§a");' style="color:#55FF55">Green</span>
                        <span>§b</span><span onclick='addFormatting("§b");' style="color:#55FFFF">Aqua</span>
                        <span>§c</span><span onclick='addFormatting("§c");' style="color:#FF5555">Red</span>
                        <span>§d</span><span onclick='addFormatting("§d");' style="color:#FF55FF">Light Purple</span>
                        <span>§e</span><span onclick='addFormatting("§e");' style="color:#FFFF55">Yellow</span>
                        <span>§f</span><span onclick='addFormatting("§f");' style="color:#FFFFFF">White</span>
                    </div>
                    <div class="bossbar-formatting-group">
                        <div>▼</div>
                        <div><b>Then: formatting</b></div>
                        <span>§k</span><span onclick='addFormatting("§k");'>ö1%~#n</span>
                        <span>§l</span><span onclick='addFormatting("§l");' style="font-weight: bold">Bold</span>
                        <span>§m</span><span onclick='addFormatting("§m");'
                            style="text-decoration: line-through">Strikethrough</span>
                        <span>§n</span><span onclick='addFormatting("§n");'
                            style="text-decoration: underline">Underline</span>
                        <span>§o</span><span onclick='addFormatting("§o");' style="font-style: italic">Italic</span>
                        <span>§r</span><span onclick='addFormatting("§r");'>Reset</span>
                    </div>
                </div>
            </div>
            <select id="bossbar-color" name="bossbar-color">
                {{range $.MinecraftColors}}
                <option value="{{.}}">{{.}}</option>
                {{end}}
            </select>
            <button class="bossbar-button" type="button"
                onclick='document.getElementById("bossbar-form").submit();'>Update</button>
            <button class="bossbar-button" type="button" onclick='doClearBossbar();'>Hide</button>
        </form>
        <img class="reload-button" src="/static/img/reload.png" alt="DANGER - reload servers"
            onclick='doReloadServerList();' />
    </div>
    <div class="main-controls-holder">
        <div class="controls-holder particle-controls">
            <span class="controls-header cyan">Particle</span>
            {{range .ParticleEffectPresets}}
            {{template "particleEffectControl" .}}
            {{end}}
        </div>
        <div class="controls-holder dragon-controls">
            <span class="controls-header magenta">Dragon</span>
            {{range .DragonEffectPresets}}
            {{template "dragonControl" .}}
            {{end}}
        </div>
        <div class="controls-holder laser-controls">
            <span class="controls-header indigo">Laser</span>
            {{range .LaserEffectPresets}}
            {{template "laserControl" .}}
            {{end}}
        </div>
        <div class="controls-holder timeshift-controls">
            <span class="controls-header orange">Timeshift</span>
            {{range .TimeshiftEffectPresets}}
            {{template "timeshiftControl" .}}
            {{end}}
        </div>
        <div class="controls-holder potion-controls">
            <span class="controls-header green">Potion</span>
            {{range .PotionEffectPresets}}
            {{template "potionControl" .}}
            {{end}}
        </div>
    </div>
    <div class="footer">
        <div id="log-window"></div>
        <div id="clock-holder">
            <h3 id="clock-title">Clock</h3>
            <div id="clock-indicator"></div>
            <input id="clock-bpm-input" type="number" min="40" max="200" step="0.1" onfocus='suppressHotkeys=true'
                onblur='suppressHotkeys=false' oninput='updateClockBPM("clock-bpm-range", this.value);'
                onchange='changeClockSpeed();' />
            <input id="clock-bpm-range" type="range" min="40" max="200" step="0.1"
                oninput='updateClockBPM("clock-bpm-input", this.value);' onchange='changeClockSpeed();' />
            <select id="clock-th-input" onchange='changeClockSpeed();'>
                <option value="32">8/1</option>
                <option value="16">4/1</option>
                <option value="8">2/1</option>
                <option value="4">1/1</option>
                <option value="2">1/2</option>
                <option value="1">1/4</option>
                <option value="0.5">1/8</option>
                <option value="0.25">1/16</option>
                <option value="0.125">1/32</option>
            </select>
            <button id="clock-tap-button" class="cyan" onclick='clockTap();'>►&nbsp;+&nbsp;◄<br />TAP</button>
            <!-- <button id="clock-restart-button" class="cyan"
                onclick='restartClock();'>►&nbsp;-&nbsp;◄<br />Restart</button> -->
        </div>
        <div id="status-window">
            <h3>Status</h3>
            <table>
                <tr>
                    <td>
                        <span>Status:</span>
                    </td>
                    <td>
                        <span class="orange" id="status-connection-status">Disconnected</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Servers Listening: </span>
                    </td>
                    <td>
                        <span id="status-server-count">{{.RegisteredServerCount}}</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Last Effect Latency: </span>
                    </td>
                    <td>
                        <span id="status-last-request-time">-</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Average Latency: </span>
                    </td>
                    <td>
                        <span id="status-average-request-time">-</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Application Version: </span>
                    </td>
                    <td>
                        <span>{{.AppVersion}}</span>
                    </td>
                </tr>
            </table>
        </div>
        <div class="master-controls">
            <button id="stop-all-button" class="stop" type="button"
                onclick='doStopAll();'>►&nbsp;0&nbsp;◄<br />stop&nbsp;all</button>
            <button class="darker-cyan" type="button" onclick='navigate(CP_PRESETS_ENDPOINT);'>Manage
                Presets</button>
        </div>
    </div>
</body>

</html>
